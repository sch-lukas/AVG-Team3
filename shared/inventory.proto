syntax = "proto3";

package inventory;

// Der Service "InventoryService"
service InventoryService {
  // Die Funktion "CheckAvailability", die aufgerufen werden kann
  rpc CheckAvailability(CheckRequest) returns (CheckResponse);
}

// Repräsentiert einen einzelnen Artikel einer Bestellung
message OrderItem {
  string productId = 1;
  int32 quantity = 2;
}

// Die Anfrage enthält eine LISTE von Artikeln
message CheckRequest {
  repeated OrderItem items = 1;
}

// Ein Status-Objekt für EINEN Artikel
message ItemStatus {
  string productId = 1;
  bool isAvailable = 2;
  string statusMessage = 3;
  int32 remainingStock = 4;
}

// Die Antwort ist eine LISTE von Status-Objekten
message CheckResponse {
  repeated ItemStatus itemStatuses = 1;
}